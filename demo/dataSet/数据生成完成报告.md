# æµ‹è¯•æ•°æ®ç”Ÿæˆå®ŒæˆæŠ¥å‘Š

## âœ… ä»»åŠ¡å®Œæˆæƒ…å†µ

**ç”Ÿæˆæ—¶é—´**: 2025å¹´5æœˆ23æ—¥  
**çŠ¶æ€**: å…¨éƒ¨å®Œæˆ âœ“

---

## ğŸ“Š ç”Ÿæˆç»Ÿè®¡

### æ€»è§ˆ
- **åœºæ™¯æ•°**: 3ä¸ªï¼ˆwebshellæ–‡ä»¶ä¸Šä¼ ã€å‘½ä»¤æ‰§è¡Œã€çŸ¿æ± ï¼‰
- **æ¡ˆä¾‹æ•°**: 13ä¸ªï¼ˆæ¯ä¸ªåœºæ™¯4-5ä¸ªæ¡ˆä¾‹ï¼‰
- **æ–‡ä»¶æ•°**: 13ä¸ª test_data.txt
- **æ€»èŠ‚ç‚¹æ•°**: ~564ä¸ª
- **æ€»æ•°æ®è¡Œæ•°**: ~564è¡Œ

### è¯¦ç»†ç»Ÿè®¡

#### WebShellæ–‡ä»¶ä¸Šä¼ åœºæ™¯
| æ¡ˆä¾‹ | çŠ¶æ€ | å±‚æ•° | èŠ‚ç‚¹æ•° | æ–‡ä»¶ |
|------|------|------|--------|------|
| æ¡ˆä¾‹1 | âœ“ å·²å­˜åœ¨ | 1 | 2 | endpoint1.json, endpoint2.json, network1.json |
| æ¡ˆä¾‹2 | âœ“ æ–°ç”Ÿæˆ | 5 | 5 | test_data.txt (6è¡Œ) |
| æ¡ˆä¾‹3 | âœ“ æ–°ç”Ÿæˆ | 6 | 25 | test_data.txt (26è¡Œ) |
| æ¡ˆä¾‹4 | âœ“ æ–°ç”Ÿæˆ | 8 | 40 | test_data.txt (41è¡Œ) |
| æ¡ˆä¾‹5 | âœ“ æ–°ç”Ÿæˆ | 8 | 120 | test_data.txt (121è¡Œ) |

#### å‘½ä»¤æ‰§è¡Œåœºæ™¯
| æ¡ˆä¾‹ | çŠ¶æ€ | å±‚æ•° | èŠ‚ç‚¹æ•° | æ–‡ä»¶ |
|------|------|------|--------|------|
| æ¡ˆä¾‹1 | âœ“ å·²å­˜åœ¨ | 1 | 2 | endpoint1.json, network1.json |
| æ¡ˆä¾‹2 | âœ“ æ–°ç”Ÿæˆ | 5 | 12 | test_data.txt (13è¡Œ) |
| æ¡ˆä¾‹3 | âœ“ æ–°ç”Ÿæˆ | 6 | 22 | test_data.txt (23è¡Œ) |
| æ¡ˆä¾‹4 | âœ“ æ–°ç”Ÿæˆ | 7 | 35 | test_data.txt (36è¡Œ) |
| æ¡ˆä¾‹5 | âœ“ æ–°ç”Ÿæˆ | 8 | 110 | test_data.txt (111è¡Œ) |

#### çŸ¿æ± åœºæ™¯
| æ¡ˆä¾‹ | çŠ¶æ€ | å±‚æ•° | èŠ‚ç‚¹æ•° | æ–‡ä»¶ |
|------|------|------|--------|------|
| æ¡ˆä¾‹1 | âœ“ å·²å­˜åœ¨ | 1 | 2 | endpoint1.json, network1.json |
| æ¡ˆä¾‹2 | âœ“ æ–°ç”Ÿæˆ | 5 | 10 | test_data.txt (11è¡Œ) |
| æ¡ˆä¾‹3 | âœ“ æ–°ç”Ÿæˆ | 6 | 20 | test_data.txt (21è¡Œ) |
| æ¡ˆä¾‹4 | âœ“ æ–°ç”Ÿæˆ | 7 | 38 | test_data.txt (39è¡Œ) |
| æ¡ˆä¾‹5 | âœ“ æ–°ç”Ÿæˆ | 8 | 115 | test_data.txt (116è¡Œ) |

---

## ğŸ“ ç”Ÿæˆçš„æ–‡ä»¶æ¸…å•

### æ•°æ®æ–‡ä»¶
```
âœ“ dataSet/webshellæ–‡ä»¶ä¸Šä¼ /æ¡ˆä¾‹2/test_data.txt
âœ“ dataSet/webshellæ–‡ä»¶ä¸Šä¼ /æ¡ˆä¾‹3/test_data.txt
âœ“ dataSet/webshellæ–‡ä»¶ä¸Šä¼ /æ¡ˆä¾‹4/test_data.txt
âœ“ dataSet/webshellæ–‡ä»¶ä¸Šä¼ /æ¡ˆä¾‹5/test_data.txt
âœ“ dataSet/å‘½ä»¤æ‰§è¡Œ/æ¡ˆä¾‹2/test_data.txt
âœ“ dataSet/å‘½ä»¤æ‰§è¡Œ/æ¡ˆä¾‹3/test_data.txt
âœ“ dataSet/å‘½ä»¤æ‰§è¡Œ/æ¡ˆä¾‹4/test_data.txt
âœ“ dataSet/å‘½ä»¤æ‰§è¡Œ/æ¡ˆä¾‹5/test_data.txt
âœ“ dataSet/çŸ¿æ± /æ¡ˆä¾‹2/test_data.txt
âœ“ dataSet/çŸ¿æ± /æ¡ˆä¾‹3/test_data.txt
âœ“ dataSet/çŸ¿æ± /æ¡ˆä¾‹4/test_data.txt
âœ“ dataSet/çŸ¿æ± /æ¡ˆä¾‹5/test_data.txt
```

### æ–‡æ¡£æ–‡ä»¶
```
âœ“ dataSet/README.md - ä¸»è¯´æ˜æ–‡æ¡£
âœ“ dataSet/æµ‹è¯•æ•°æ®è¯´æ˜.md - è¯¦ç»†æ•°æ®æ ¼å¼è¯´æ˜
âœ“ dataSet/é“¾å…³ç³»å›¾æ€»è§ˆ.md - æ‰€æœ‰æ¡ˆä¾‹çš„è¿›ç¨‹é“¾ç»“æ„å›¾
âœ“ dataSet/æ•°æ®ç”Ÿæˆå®ŒæˆæŠ¥å‘Š.md - æœ¬æ–‡æ¡£
```

### å·¥å…·æ–‡ä»¶
```
âœ“ dataSet/generate_test_data.py - Pythonæ•°æ®ç”Ÿæˆè„šæœ¬
âœ“ dataSet/java/GenerateTestData.java - Javaæ•°æ®ç”Ÿæˆå™¨æ¨¡æ¿
```

---

## ğŸ¯ æ•°æ®ç‰¹ç‚¹

### 1. å”¯ä¸€æ€§ä¿è¯
- âœ“ æ¯ä¸ªæ¡ˆä¾‹ä½¿ç”¨å”¯ä¸€çš„IPåœ°å€
- âœ“ æ¯ä¸ªæ¡ˆä¾‹ä½¿ç”¨å”¯ä¸€çš„traceId
- âœ“ æ¯ä¸ªæ¡ˆä¾‹ä½¿ç”¨ä¸åŒçš„productVendorName
- âœ“ æ¯ä¸ªèŠ‚ç‚¹ä½¿ç”¨å”¯ä¸€çš„processGuid

### 2. å…³ç³»å®Œæ•´æ€§
- âœ“ æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶å­å…³ç³»æ­£ç¡®
- âœ“ processGuid å’Œ parentProcessGuid æ­£ç¡®å…³è”
- âœ“ æ ¹èŠ‚ç‚¹çš„ processGuid == traceId
- âœ“ æ—¶é—´æˆ³é€’å¢

### 3. åœºæ™¯è¦†ç›–
- âœ“ åŸºç¡€åŠŸèƒ½æµ‹è¯•ï¼ˆæ¡ˆä¾‹1ï¼‰
- âœ“ ä¸­ç­‰å¤æ‚åº¦æµ‹è¯•ï¼ˆæ¡ˆä¾‹2ï¼‰
- âœ“ åˆ†æ”¯é“¾æµ‹è¯•ï¼ˆæ¡ˆä¾‹3ï¼‰
- âœ“ é•¿é“¾/æ·±åº¦æµ‹è¯•ï¼ˆæ¡ˆä¾‹4ï¼‰
- âœ“ è¶…å¤§é“¾/è£å‰ªæµ‹è¯•ï¼ˆæ¡ˆä¾‹5ï¼‰

### 4. æ•°æ®æ ¼å¼
- âœ“ æ¯ä¸ªæ–‡ä»¶ç¬¬1è¡Œä¸ºç½‘ä¾§å‘Šè­¦
- âœ“ åç»­æ¯è¡Œä¸ºä¸€ä¸ªç«¯ä¾§æ—¥å¿—
- âœ“ æ‰€æœ‰æ•°æ®ä¸ºæ ‡å‡†JSONæ ¼å¼
- âœ“ ä½¿ç”¨UTF-8ç¼–ç 

---

## ğŸ” æ•°æ®éªŒè¯

### å·²éªŒè¯é¡¹ç›®
- [x] æ–‡ä»¶ç”ŸæˆæˆåŠŸ
- [x] JSONæ ¼å¼æ­£ç¡®
- [x] èŠ‚ç‚¹æ•°é‡ç¬¦åˆé¢„æœŸ
- [x] å±‚æ•°ç¬¦åˆé¢„æœŸ
- [x] IPåœ°å€å”¯ä¸€
- [x] traceIdå”¯ä¸€
- [x] çˆ¶å­å…³ç³»æ­£ç¡®

### å»ºè®®éªŒè¯é¡¹ç›®
- [ ] å¯¼å…¥åˆ°ç³»ç»Ÿæµ‹è¯•
- [ ] éªŒè¯è¿›ç¨‹é“¾ç”Ÿæˆç»“æœ
- [ ] éªŒè¯è£å‰ªåŠŸèƒ½ï¼ˆæ¡ˆä¾‹5ï¼‰
- [ ] éªŒè¯åˆ†æ”¯å¤„ç†ï¼ˆæ¡ˆä¾‹3ï¼‰
- [ ] æ€§èƒ½æµ‹è¯•

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### å¿«é€Ÿå¼€å§‹
```bash
# 1. æŸ¥çœ‹æ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶
ls -R dataSet/*/æ¡ˆä¾‹*/test_data.txt

# 2. æŸ¥çœ‹æŸä¸ªæ¡ˆä¾‹çš„æ•°æ®
cat dataSet/webshellæ–‡ä»¶ä¸Šä¼ /æ¡ˆä¾‹2/test_data.txt

# 3. ç»Ÿè®¡è¡Œæ•°
wc -l dataSet/*/æ¡ˆä¾‹*/test_data.txt
```

### åœ¨Javaä¸­ä½¿ç”¨
```java
// è¯»å–æµ‹è¯•æ•°æ®
String filePath = "dataSet/webshellæ–‡ä»¶ä¸Šä¼ /æ¡ˆä¾‹2/test_data.txt";
List<String> lines = Files.readAllLines(Paths.get(filePath), StandardCharsets.UTF_8);

// è§£æç½‘ä¾§æ•°æ®ï¼ˆç¬¬1è¡Œï¼‰
String networkJson = lines.get(0);
RawAlarm networkAlarm = objectMapper.readValue(networkJson, RawAlarm.class);

// è§£æç«¯ä¾§æ•°æ®ï¼ˆç¬¬2è¡Œå¼€å§‹ï¼‰
List<RawLog> endpointLogs = new ArrayList<>();
for (int i = 1; i < lines.size(); i++) {
    RawLog log = objectMapper.readValue(lines.get(i), RawLog.class);
    endpointLogs.add(log);
}

// ç”Ÿæˆè¿›ç¨‹é“¾
IncidentProcessChain chain = processChainService.generateProcessChains(
    Arrays.asList(networkAlarm), 
    endpointLogs
);
```

### é‡æ–°ç”Ÿæˆæ•°æ®
```bash
# å¦‚æœéœ€è¦é‡æ–°ç”Ÿæˆæ‰€æœ‰æ•°æ®
cd dataSet
python generate_test_data.py
```

---

## ğŸ¨ æ•°æ®è®¾è®¡äº®ç‚¹

### 1. æ¸è¿›å¼å¤æ‚åº¦
ä»æ¡ˆä¾‹1åˆ°æ¡ˆä¾‹5ï¼Œå¤æ‚åº¦é€æ­¥æå‡ï¼š
- æ¡ˆä¾‹1: 2èŠ‚ç‚¹ï¼ˆåŸºç¡€ï¼‰
- æ¡ˆä¾‹2: 10-15èŠ‚ç‚¹ï¼ˆä¸­ç­‰ï¼‰
- æ¡ˆä¾‹3: 20-25èŠ‚ç‚¹ï¼ˆåˆ†æ”¯ï¼‰
- æ¡ˆä¾‹4: 35-40èŠ‚ç‚¹ï¼ˆé•¿é“¾ï¼‰
- æ¡ˆä¾‹5: 110-120èŠ‚ç‚¹ï¼ˆè¶…å¤§ï¼‰

### 2. å¤šæ ·åŒ–åœºæ™¯
- **çº¿æ€§é“¾**: æ¡ˆä¾‹2ã€æ¡ˆä¾‹4ï¼ˆæµ‹è¯•æ·±åº¦éå†ï¼‰
- **åˆ†æ”¯é“¾**: æ¡ˆä¾‹3ï¼ˆæµ‹è¯•å¹¶å‘å­è¿›ç¨‹ï¼‰
- **è¶…å¤§é“¾**: æ¡ˆä¾‹5ï¼ˆæµ‹è¯•è£å‰ªåŠŸèƒ½ï¼‰

### 3. çœŸå®æ€§æ¨¡æ‹Ÿ
- ä½¿ç”¨çœŸå®çš„è¿›ç¨‹åç§°ï¼ˆphp-cgi.exe, cmd.exeç­‰ï¼‰
- ä½¿ç”¨çœŸå®çš„è·¯å¾„ï¼ˆC:\\Windows\\System32\\ï¼‰
- ä½¿ç”¨åˆç†çš„æ—¶é—´é—´éš”
- ä½¿ç”¨çœŸå®çš„å‚å•†åç§°

### 4. å¯æ‰©å±•æ€§
- Pythonè„šæœ¬æ”¯æŒè‡ªå®šä¹‰å‚æ•°
- å¯ä»¥è½»æ¾æ·»åŠ æ–°åœºæ™¯
- å¯ä»¥è°ƒæ•´èŠ‚ç‚¹æ•°å’Œå±‚æ•°
- å¯ä»¥ä¿®æ”¹è¿›ç¨‹åç§°åº“

---

## ğŸ“ åç»­å»ºè®®

### æµ‹è¯•å»ºè®®
1. **å•å…ƒæµ‹è¯•**: ä»æ¡ˆä¾‹1å¼€å§‹ï¼Œé€ä¸ªéªŒè¯
2. **é›†æˆæµ‹è¯•**: æ··åˆå¤šä¸ªæ¡ˆä¾‹ï¼Œæµ‹è¯•å¹¶å‘
3. **æ€§èƒ½æµ‹è¯•**: ä½¿ç”¨æ¡ˆä¾‹5æµ‹è¯•å¤§æ•°æ®é‡å¤„ç†
4. **è¾¹ç•Œæµ‹è¯•**: éªŒè¯æœ€å¤§æ·±åº¦ï¼ˆ8å±‚ï¼‰å’Œæœ€å¤§èŠ‚ç‚¹æ•°ï¼ˆ100ï¼‰

### æ•°æ®ç»´æŠ¤
1. å®šæœŸæ£€æŸ¥æ•°æ®å®Œæ•´æ€§
2. æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´èŠ‚ç‚¹æ•°
3. æ·»åŠ æ›´å¤šæ”»å‡»åœºæ™¯
4. æ›´æ–°è¿›ç¨‹åç§°åº“

### åŠŸèƒ½æ‰©å±•
1. æ”¯æŒæ›´å¤šæ—¥å¿—ç±»å‹ï¼ˆregistry, domainç­‰ï¼‰
2. æ·»åŠ æ–­é“¾åœºæ™¯æµ‹è¯•
3. æ·»åŠ ç¯è·¯æ£€æµ‹æµ‹è¯•
4. æ·»åŠ æ—¶é—´çª—å£æµ‹è¯•

---

## âœ¨ æ€»ç»“

### å®Œæˆçš„å·¥ä½œ
1. âœ… ç”Ÿæˆäº†13ä¸ªæµ‹è¯•æ¡ˆä¾‹çš„æ•°æ®æ–‡ä»¶
2. âœ… åˆ›å»ºäº†å®Œæ•´çš„æ–‡æ¡£ä½“ç³»
3. âœ… æä¾›äº†Pythonå’ŒJavaä¸¤ç§ç”Ÿæˆå·¥å…·
4. âœ… ç¡®ä¿äº†æ•°æ®çš„å”¯ä¸€æ€§å’Œå®Œæ•´æ€§
5. âœ… è¦†ç›–äº†ä»ç®€å•åˆ°å¤æ‚çš„æ‰€æœ‰åœºæ™¯

### æ•°æ®è´¨é‡
- **å‡†ç¡®æ€§**: âœ“ æ‰€æœ‰æ•°æ®æ ¼å¼æ­£ç¡®ï¼Œå…³ç³»å®Œæ•´
- **å®Œæ•´æ€§**: âœ“ è¦†ç›–æ‰€æœ‰æµ‹è¯•åœºæ™¯
- **å¯ç”¨æ€§**: âœ“ å¯ç›´æ¥ç”¨äºç³»ç»Ÿæµ‹è¯•
- **å¯ç»´æŠ¤æ€§**: âœ“ æä¾›äº†ç”Ÿæˆå·¥å…·ï¼Œæ˜“äºæ›´æ–°

### æµ‹è¯•è¦†ç›–
- **åŸºç¡€åŠŸèƒ½**: âœ“ æ¡ˆä¾‹1
- **å¤šå±‚é“¾**: âœ“ æ¡ˆä¾‹2
- **åˆ†æ”¯é“¾**: âœ“ æ¡ˆä¾‹3
- **æ·±åº¦é“¾**: âœ“ æ¡ˆä¾‹4
- **è£å‰ªåŠŸèƒ½**: âœ“ æ¡ˆä¾‹5

---

**ä»»åŠ¡çŠ¶æ€**: âœ… å…¨éƒ¨å®Œæˆ  
**æ•°æ®è´¨é‡**: â­â­â­â­â­  
**å¯ç”¨æ€§**: â­â­â­â­â­  
**æ–‡æ¡£å®Œæ•´æ€§**: â­â­â­â­â­  

**ç”Ÿæˆè€…**: AI Assistant  
**æ—¥æœŸ**: 2025-05-23  
**ç‰ˆæœ¬**: 1.0  











