# æµ‹è¯•æ•°æ®é›†è¯´æ˜

## ğŸ“Š æ•°æ®æ¦‚è§ˆ

æœ¬æ•°æ®é›†åŒ…å«**15ä¸ªæµ‹è¯•æ¡ˆä¾‹**ï¼Œè¦†ç›–3ç§æ”»å‡»åœºæ™¯ï¼Œç”¨äºæµ‹è¯•è¿›ç¨‹é“¾ç”Ÿæˆç³»ç»Ÿçš„å„é¡¹åŠŸèƒ½ã€‚

### ç”Ÿæˆçš„æ–‡ä»¶ç»Ÿè®¡

| åœºæ™¯ | æ¡ˆä¾‹æ•° | æ€»èŠ‚ç‚¹æ•° | æ–‡ä»¶æ•° |
|------|--------|----------|--------|
| webshellæ–‡ä»¶ä¸Šä¼  | 5 | ~202 | 5 |
| å‘½ä»¤æ‰§è¡Œ | 4 | ~179 | 4 |
| çŸ¿æ±  | 4 | ~183 | 4 |
| **æ€»è®¡** | **13** | **~564** | **13** |

## ğŸ“ æ–‡ä»¶ç»“æ„

```
dataSet/
â”œâ”€â”€ webshellæ–‡ä»¶ä¸Šä¼ /
â”‚   â”œâ”€â”€ æ¡ˆä¾‹1/  âœ“ (å·²å­˜åœ¨ - åŸºç¡€æµ‹è¯•)
â”‚   â”œâ”€â”€ æ¡ˆä¾‹2/  âœ“ (5å±‚, 5èŠ‚ç‚¹)
â”‚   â”œâ”€â”€ æ¡ˆä¾‹3/  âœ“ (6å±‚, 25èŠ‚ç‚¹, åˆ†æ”¯)
â”‚   â”œâ”€â”€ æ¡ˆä¾‹4/  âœ“ (8å±‚, 40èŠ‚ç‚¹)
â”‚   â””â”€â”€ æ¡ˆä¾‹5/  âœ“ (8å±‚, 120èŠ‚ç‚¹, éœ€è£å‰ª)
â”œâ”€â”€ å‘½ä»¤æ‰§è¡Œ/
â”‚   â”œâ”€â”€ æ¡ˆä¾‹1/  âœ“ (å·²å­˜åœ¨ - åŸºç¡€æµ‹è¯•)
â”‚   â”œâ”€â”€ æ¡ˆä¾‹2/  âœ“ (5å±‚, 12èŠ‚ç‚¹)
â”‚   â”œâ”€â”€ æ¡ˆä¾‹3/  âœ“ (6å±‚, 22èŠ‚ç‚¹, åˆ†æ”¯)
â”‚   â”œâ”€â”€ æ¡ˆä¾‹4/  âœ“ (7å±‚, 35èŠ‚ç‚¹)
â”‚   â””â”€â”€ æ¡ˆä¾‹5/  âœ“ (8å±‚, 110èŠ‚ç‚¹, éœ€è£å‰ª)
â””â”€â”€ çŸ¿æ± /
    â”œâ”€â”€ æ¡ˆä¾‹1/  âœ“ (å·²å­˜åœ¨ - åŸºç¡€æµ‹è¯•)
    â”œâ”€â”€ æ¡ˆä¾‹2/  âœ“ (5å±‚, 10èŠ‚ç‚¹)
    â”œâ”€â”€ æ¡ˆä¾‹3/  âœ“ (6å±‚, 20èŠ‚ç‚¹, åˆ†æ”¯)
    â”œâ”€â”€ æ¡ˆä¾‹4/  âœ“ (7å±‚, 38èŠ‚ç‚¹)
    â””â”€â”€ æ¡ˆä¾‹5/  âœ“ (8å±‚, 115èŠ‚ç‚¹, éœ€è£å‰ª)
```

## ğŸ¯ æµ‹è¯•æ¡ˆä¾‹è¯¦æƒ…

### WebShellæ–‡ä»¶ä¸Šä¼ åœºæ™¯

| æ¡ˆä¾‹ | IP | traceId | å‚å•† | å±‚æ•° | èŠ‚ç‚¹æ•° | ç‰¹ç‚¹ |
|------|----|---------|----|------|--------|------|
| 1 | 10.50.109.192 | traceId-985 | æ­å·å®‰æ’ | 1 | 2 | åŸºç¡€æµ‹è¯• |
| 2 | 10.50.110.193 | traceId-986 | Qihoo360 | 5 | 5 | ä¸­ç­‰å¤æ‚åº¦ |
| 3 | 10.50.111.194 | traceId-987 | Kaspersky | 6 | 25 | åˆ†æ”¯é“¾ |
| 4 | 10.50.112.195 | traceId-988 | Symantec | 8 | 40 | é•¿é“¾ |
| 5 | 10.50.113.196 | traceId-989 | TrendMicro | 8 | 120 | è¶…å¤§é“¾(è£å‰ª) |

### å‘½ä»¤æ‰§è¡Œåœºæ™¯

| æ¡ˆä¾‹ | IP | traceId | å‚å•† | å±‚æ•° | èŠ‚ç‚¹æ•° | ç‰¹ç‚¹ |
|------|----|---------|----|------|--------|------|
| 1 | 10.50.109.192 | traceId-211 | æ­å·å®‰æ’ | 1 | 2 | åŸºç¡€æµ‹è¯• |
| 2 | 10.50.114.197 | traceId-212 | McAfee | 5 | 12 | ä¸­ç­‰å¤æ‚åº¦ |
| 3 | 10.50.115.198 | traceId-213 | Sophos | 6 | 22 | åˆ†æ”¯é“¾ |
| 4 | 10.50.116.199 | traceId-214 | ESET | 7 | 35 | é•¿é“¾ |
| 5 | 10.50.117.200 | traceId-215 | Bitdefender | 8 | 110 | è¶…å¤§é“¾(è£å‰ª) |

### çŸ¿æ± åœºæ™¯

| æ¡ˆä¾‹ | IP | traceId | å‚å•† | å±‚æ•° | èŠ‚ç‚¹æ•° | ç‰¹ç‚¹ |
|------|----|---------|----|------|--------|------|
| 1 | 10.50.109.192 | traceId-205 | æ­å·å®‰æ’ | 1 | 2 | åŸºç¡€æµ‹è¯• |
| 2 | 10.50.118.201 | traceId-206 | Avast | 5 | 10 | ä¸­ç­‰å¤æ‚åº¦ |
| 3 | 10.50.119.202 | traceId-207 | AVG | 6 | 20 | åˆ†æ”¯é“¾ |
| 4 | 10.50.120.203 | traceId-208 | Panda | 7 | 38 | é•¿é“¾ |
| 5 | 10.50.121.204 | traceId-209 | Comodo | 8 | 115 | è¶…å¤§é“¾(è£å‰ª) |

## ğŸ“ æ•°æ®æ ¼å¼

æ¯ä¸ªæ¡ˆä¾‹æ–‡ä»¶å¤¹åŒ…å«ä¸€ä¸ª `test_data.txt` æ–‡ä»¶ï¼š
- **ç¬¬1è¡Œ**: ç½‘ä¾§å‘Šè­¦æ•°æ®ï¼ˆJSONæ ¼å¼ï¼‰
- **ç¬¬2è¡ŒåŠä»¥å**: ç«¯ä¾§è¿›ç¨‹/æ–‡ä»¶æ—¥å¿—æ•°æ®ï¼ˆæ¯è¡Œä¸€ä¸ªJSONï¼‰

### ç¤ºä¾‹æ ¼å¼
```
{ç½‘ä¾§å‘Šè­¦JSON}
{ç«¯ä¾§æ—¥å¿—JSON-1}
{ç«¯ä¾§æ—¥å¿—JSON-2}
...
```

## ğŸ”§ å·¥å…·è„šæœ¬

### generate_test_data.py
Pythonè„šæœ¬ï¼Œç”¨äºç”Ÿæˆæ‰€æœ‰æµ‹è¯•æ•°æ®ã€‚

**ä½¿ç”¨æ–¹æ³•**:
```bash
cd dataSet
python generate_test_data.py
```

**åŠŸèƒ½**:
- è‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰åœºæ™¯çš„æµ‹è¯•æ•°æ®
- æ”¯æŒè‡ªå®šä¹‰èŠ‚ç‚¹æ•°ã€å±‚æ•°ã€åˆ†æ”¯æ•°
- è‡ªåŠ¨è®¡ç®—çˆ¶å­å…³ç³»
- ç”Ÿæˆå”¯ä¸€çš„IPã€traceIdã€GUID

### GenerateTestData.java
Javaç‰ˆæœ¬çš„æ•°æ®ç”Ÿæˆå™¨ï¼ˆæ¨¡æ¿ï¼‰ã€‚

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. å¿«é€ŸéªŒè¯
```bash
# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -R webshellæ–‡ä»¶ä¸Šä¼ / å‘½ä»¤æ‰§è¡Œ/ çŸ¿æ± /

# ç»Ÿè®¡æ¯ä¸ªæ–‡ä»¶çš„è¡Œæ•°
wc -l */æ¡ˆä¾‹*/test_data.txt
```

### 2. æ•°æ®éªŒè¯
```bash
# éªŒè¯JSONæ ¼å¼
cat webshellæ–‡ä»¶ä¸Šä¼ /æ¡ˆä¾‹2/test_data.txt | while read line; do 
    echo $line | python -m json.tool > /dev/null || echo "Invalid JSON"
done
```

### 3. å¯¼å…¥æµ‹è¯•
åœ¨ä½ çš„Javaæµ‹è¯•ä»£ç ä¸­ï¼š
```java
// è¯»å–æµ‹è¯•æ•°æ®
String filePath = "dataSet/webshellæ–‡ä»¶ä¸Šä¼ /æ¡ˆä¾‹2/test_data.txt";
List<String> lines = Files.readAllLines(Paths.get(filePath));

// ç¬¬ä¸€è¡Œæ˜¯ç½‘ä¾§æ•°æ®
String networkData = lines.get(0);
RawAlarm networkAlarm = parseNetworkData(networkData);

// åç»­è¡Œæ˜¯ç«¯ä¾§æ•°æ®
List<RawLog> endpointLogs = new ArrayList<>();
for (int i = 1; i < lines.size(); i++) {
    RawLog log = parseEndpointData(lines.get(i));
    endpointLogs.add(log);
}

// è°ƒç”¨è¿›ç¨‹é“¾ç”Ÿæˆ
IncidentProcessChain chain = processChainService.generateProcessChains(
    Arrays.asList(networkAlarm), 
    endpointLogs
);
```

## ğŸ¯ æµ‹è¯•å»ºè®®

### åŸºç¡€åŠŸèƒ½æµ‹è¯•
ä½¿ç”¨**æ¡ˆä¾‹1**ï¼šéªŒè¯åŸºæœ¬çš„è¿›ç¨‹é“¾æ„å»ºã€æ ¹èŠ‚ç‚¹è¯†åˆ«ã€ç½‘ç«¯å…³è”

### å¤šå±‚é“¾æµ‹è¯•
ä½¿ç”¨**æ¡ˆä¾‹2**ï¼šéªŒè¯æ·±åº¦éå†ã€æ—¶é—´é¡ºåºã€é“¾å®Œæ•´æ€§

### åˆ†æ”¯é“¾æµ‹è¯•
ä½¿ç”¨**æ¡ˆä¾‹3**ï¼šéªŒè¯åˆ†æ”¯è¯†åˆ«ã€å¹¶å‘å­è¿›ç¨‹ã€ç‹¬ç«‹æ€§ä¿æŒ

### æ·±åº¦é™åˆ¶æµ‹è¯•
ä½¿ç”¨**æ¡ˆä¾‹4**ï¼šéªŒè¯æœ€å¤§æ·±åº¦é™åˆ¶ï¼ˆ8å±‚ï¼‰ã€æ€§èƒ½è¡¨ç°

### è£å‰ªåŠŸèƒ½æµ‹è¯•
ä½¿ç”¨**æ¡ˆä¾‹5**ï¼šéªŒè¯æ™ºèƒ½è£å‰ªã€èŠ‚ç‚¹æ•°é™åˆ¶ï¼ˆ100èŠ‚ç‚¹ï¼‰ã€å…³é”®èŠ‚ç‚¹ä¿ç•™

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¼–ç æ ¼å¼**: æ‰€æœ‰æ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç 
2. **JSONæ ¼å¼**: æ¯è¡Œä¸€ä¸ªå®Œæ•´çš„JSONå¯¹è±¡ï¼Œä¸åŒ…å«æ¢è¡Œ
3. **æ—¶é—´æˆ³**: ä½¿ç”¨2025å¹´5æœˆçš„æ¨¡æ‹Ÿæ•°æ®
4. **IPåœ°å€**: æ¯ä¸ªæ¡ˆä¾‹ä½¿ç”¨å”¯ä¸€çš„IPåœ°å€ï¼Œä¾¿äºåŒºåˆ†
5. **traceId**: æ¯ä¸ªæ¡ˆä¾‹ä½¿ç”¨å”¯ä¸€çš„traceId
6. **productVendorName**: æ¯ä¸ªæ¡ˆä¾‹ä½¿ç”¨ä¸åŒçš„å‚å•†åç§°

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æµ‹è¯•æ•°æ®è¯´æ˜.md](./æµ‹è¯•æ•°æ®è¯´æ˜.md) - è¯¦ç»†çš„æ•°æ®æ ¼å¼è¯´æ˜
- [é“¾å…³ç³»å›¾æ€»è§ˆ.md](./é“¾å…³ç³»å›¾æ€»è§ˆ.md) - æ‰€æœ‰æ¡ˆä¾‹çš„è¿›ç¨‹é“¾ç»“æ„å›¾
- [java/README.md](./java/README.md) - Javaå·¥å…·è¯´æ˜

## ğŸ› é—®é¢˜åé¦ˆ

å¦‚æœå‘ç°æ•°æ®é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. JSONæ ¼å¼æ˜¯å¦æ­£ç¡®
2. processGuid å’Œ parentProcessGuid å…³ç³»æ˜¯å¦æ­£ç¡®
3. traceId æ˜¯å¦å”¯ä¸€
4. IPåœ°å€æ˜¯å¦åŒ¹é…

## ğŸ“ˆ æ•°æ®ç»Ÿè®¡

ç”Ÿæˆæ—¶é—´: 2025-05-23
æ€»æ–‡ä»¶æ•°: 13ä¸ª
æ€»è¡Œæ•°: ~564è¡Œ
æ€»å¤§å°: ~2MB

---

**ç”Ÿæˆå·¥å…·**: generate_test_data.py
**ç‰ˆæœ¬**: 1.0
**ä½œè€…**: AI Assistant
**æ—¥æœŸ**: 2025-05-23



















